// machine generated, do not edit

#linkid saudio_setup
fn setup(rawptr<desc_t> desc)
#linkid saudio_shutdown
fn shutdown()
#linkid saudio_isvalid
fn isvalid(): bool
#linkid saudio_userdata
fn userdata(): anyptr
#linkid saudio_query_desc
fn query_desc(): desc_t
#linkid saudio_sample_rate
fn sample_rate(): i32
#linkid saudio_buffer_frames
fn buffer_frames(): i32
#linkid saudio_channels
fn channels(): i32
#linkid saudio_suspended
fn suspended(): bool
#linkid saudio_expect
fn expect(): i32
#linkid saudio_push
fn push(rawptr<f32> frames, i32 num_frames): i32

const LOGITEM_OK = 0
const LOGITEM_MALLOC_FAILED = 1
const LOGITEM_ALSA_SND_PCM_OPEN_FAILED = 2
const LOGITEM_ALSA_FLOAT_SAMPLES_NOT_SUPPORTED = 3
const LOGITEM_ALSA_REQUESTED_BUFFER_SIZE_NOT_SUPPORTED = 4
const LOGITEM_ALSA_REQUESTED_CHANNEL_COUNT_NOT_SUPPORTED = 5
const LOGITEM_ALSA_SND_PCM_HW_PARAMS_SET_RATE_NEAR_FAILED = 6
const LOGITEM_ALSA_SND_PCM_HW_PARAMS_FAILED = 7
const LOGITEM_ALSA_PTHREAD_CREATE_FAILED = 8
const LOGITEM_WASAPI_CREATE_EVENT_FAILED = 9
const LOGITEM_WASAPI_CREATE_DEVICE_ENUMERATOR_FAILED = 10
const LOGITEM_WASAPI_GET_DEFAULT_AUDIO_ENDPOINT_FAILED = 11
const LOGITEM_WASAPI_DEVICE_ACTIVATE_FAILED = 12
const LOGITEM_WASAPI_AUDIO_CLIENT_INITIALIZE_FAILED = 13
const LOGITEM_WASAPI_AUDIO_CLIENT_GET_BUFFER_SIZE_FAILED = 14
const LOGITEM_WASAPI_AUDIO_CLIENT_GET_SERVICE_FAILED = 15
const LOGITEM_WASAPI_AUDIO_CLIENT_SET_EVENT_HANDLE_FAILED = 16
const LOGITEM_WASAPI_CREATE_THREAD_FAILED = 17
const LOGITEM_AAUDIO_STREAMBUILDER_OPEN_STREAM_FAILED = 18
const LOGITEM_AAUDIO_PTHREAD_CREATE_FAILED = 19
const LOGITEM_AAUDIO_RESTARTING_STREAM_AFTER_ERROR = 20
const LOGITEM_USING_AAUDIO_BACKEND = 21
const LOGITEM_AAUDIO_CREATE_STREAMBUILDER_FAILED = 22
const LOGITEM_COREAUDIO_NEW_OUTPUT_FAILED = 23
const LOGITEM_COREAUDIO_ALLOCATE_BUFFER_FAILED = 24
const LOGITEM_COREAUDIO_START_FAILED = 25
const LOGITEM_BACKEND_BUFFER_SIZE_ISNT_MULTIPLE_OF_PACKET_SIZE = 26
const LOGITEM_VITA_SCEAUDIO_OPEN_FAILED = 27
const LOGITEM_VITA_PTHREAD_CREATE_FAILED = 28
const LOGITEM_N3DS_NDSP_OPEN_FAILED = 29

type logger_t = struct {
    log_cb_t func
    anyptr user_data
}

type allocator_t = struct {
    alloc_cb_t alloc_fn
    free_cb_t free_fn
    anyptr user_data
}

const N3DSNDSPINTERPTYPE_DSP_INTERP_POLYPHASE = 0
const N3DSNDSPINTERPTYPE_DSP_INTERP_LINEAR = 1
const N3DSNDSPINTERPTYPE_DSP_INTERP_NONE = 2

type n3ds_desc_t = struct {
    i32 queue_count
    u32 interpolation_type
    i32 channel_id
}

type desc_t = struct {
    i32 sample_rate
    i32 num_channels
    i32 buffer_frames
    i32 packet_frames
    i32 num_packets
    stream_cb_t stream_cb
    stream_data_cb_t stream_userdata_cb
    anyptr user_data
    n3ds_desc_t n3ds
    allocator_t allocator
    logger_t logger
}

type log_cb_t = fn(anyptr, u32, u32, anyptr, u32, anyptr, anyptr)
type alloc_cb_t = fn(uint, anyptr): anyptr
type free_cb_t = fn(anyptr, anyptr)
type stream_cb_t = fn(rawptr<f32>, int, int)
type stream_data_cb_t = fn(rawptr<f32>, int, int, anyptr)

